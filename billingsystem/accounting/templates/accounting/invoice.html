<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Billing System</title>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/invoice.css' %}" />
</head>

<body>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="page-content container">
            <div class="page-header text-blue-d2">
                <h1 class="page-title text-secondary-d1">
                    Invoice
                    <small class="page-info">
                        <i class="fa fa-angle-double-right text-80"></i>
                        VAT/PAN: #111-222
                    </small>
                </h1>

                <div class="page-tools">
                    <div class="action-buttons">
                        <a class="btn bg-white btn-light mx-1px text-95" href="#" data-title="Print">
                            <i class="mr-1 fa fa-print text-primary-m1 text-120 w-2"></i>
                            Print
                        </a>
                        <a class="btn bg-white btn-light mx-1px text-95" href="#" data-title="PDF">
                            <i class="mr-1 fa fa-file-pdf-o text-danger-m1 text-120 w-2"></i>
                            Export
                        </a>
                    </div>
                </div>
            </div>

            <div class="container px-0">
                <div class="row mt-4">
                    <div class="col-12 col-lg-12">
                        <div class="row">
                            <div class="col-12">
                                <div class="text-center text-150">
                                    <i class="fa fa-book fa-2x text-success-m2 mr-1"></i>
                                    <span class="text-default-d3">Traders Pvt.Ltd</span>
                                </div>
                            </div>
                        </div>
                        <!-- .row -->

                        <hr class="row brc-default-l1 mx-n1 mb-4" />
                        {{ form.non_field_errors }}
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="text-grey-m2">
                                    <div class="row my-1">
                                        {{ form.customer_name.errors }}
                                        <div class="col-4 text-left"><label
                                                for="{{ form.customer_name.id_for_label }}">Customer Name:</label></div>
                                        <div class="col-2">{{ form.customer_name }}</div>
                                    </div>

                                    <div class="row my-1">
                                        {{ form.address.errors }}
                                        <div class="col-4 text-left"> <label
                                                for="{{ form.address.id_for_label }}">Address:</label></div>
                                        <div class="col-2">{{ form.address }}</div>
                                    </div>
                                    <div class="row my-1">
                                        {{ form.phone.errors }}
                                        <div class="col-4 text-left"> <label
                                                for="{{ form.phone.id_for_label }}">Phone:</label></div>
                                        <div class="col-2"> {{ form.phone }}</div>
                                    </div>
                                    <div class=" row my-1">
                                        {{ form.pan_no.errors }}
                                        <div class="col-4 text-left"> <label
                                                for="{{ form.pan_no.id_for_label }}">PAN:</label></div>
                                        <div class="col-2"> {{ form.pan_no }}</div>
                                    </div>
                                </div>
                            </div>

                            <!-- /.col -->

                            <div class="text-95 col-sm-6 align-self-start d-sm-flex justify-content-end">
                                <hr class="d-sm-none" />
                                <div class="text-grey-m2">
                                    <div class=" row my-2">
                                        {{ form.invoice_no.errors }}
                                        <div class="col-5 text-right">
                                            <label for="{{ form.invoice_no.id_for_label }}">Invoice No:</label>
                                        </div>
                                        <div class="col-2" >{{ form.invoice_no }}</div>
                                    </div>
                                    {{ form.invoice_date.errors}}
                                    <div class="row my-2">
                                        <div class="col-5 text-right">
                                            <label for="{{ form.invoice_date.id_for_label }}">Invoice Date:</label>
                                        </div>
                                        <div class="col-2"> {{ form.invoice_date }}</div>
                                    </div>
                                    {{ form.payment_mode.errors }}
                                    <div class="row my-2">
                                        <div class="col-6 text-right">
                                            <label for="{{ form.payment_mode.id_for_label }}">Payment Mode:</label>
                                        </div>
                                        <div class="col-2"> {{ form.payment_mode }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                <!-- 
                <div class="mt-4">
                    <div class="row text-600 text-white bgc-default-tp1 py-25">
                        {{ iform.item_no.errors }}
                        <div class="d-none d-sm-block col-1"><label for="{{ iform.item_no.id_for_label }}">Item No:</label></div>
                        {{ iform.particular.errors }}
                        <div class="col-9 col-sm-5"><label for="{{ iform.particular.id_for_label }}">Particular:</label></div>
                        {{ iform.alt_qty.errors }}
                        <div class="d-none d-sm-block col-1"><label for="{{ iform.alt_qty.id_for_label }}">Alt Qty:</label></div>
                        {{ iform.qty.errors }}
                        <div class="d-none d-sm-block col-1"><label for="{{ iform.qty.id_for_label }}">Qty:</label></div>
                        {{ iform.Uom.errors }}
                        <div class="d-none d-sm-block col-1"><label for="{{ iform.Uom.id_for_label }}">Uom:</label></div>
                        {{ iform.rate.errors }}
                        <div class="d-none d-sm-block col-1"><label for="{{ iform.rate.id_for_label }}">Rate:</label></div>
                        {{ iform.discount.errors }}
                        <div class="d-none d-sm-block col-1"><label for="{{ iform.discount.id_for_label }}">Discount:</label></div>
                        {{ iform.amount.errors }}
                        <div class="d-none d-sm-block col-1"><label for="{{ iform.amount.id_for_label }}">Amount:</label></div>
                    </div>

                    <div class="text-95 text-secondary-d3">
                        <div class="row mb-2 mb-sm-0 py-25">
                            <div class="d-none d-sm-block col-1">{{ iform.item_no }}</div>
                            <div class="col-9 col-sm-5">{{ iform.particular }}}</div>
                            <div class="d-none d-sm-block col-1">{{ iform.alt_qty }}</div>
                            <div class="d-none d-sm-block col-1">{{ iform.qty }}</div>
                            <div class="d-none d-sm-block col-1">{{ iform.Uom }}</div>
                            <div class="d-none d-sm-block col-1">{{ iform.rate }}</div>
                            <div class="d-none d-sm-block col-1">{{ iform.discount }}</div>
                            <div class="d-none d-sm-block col-1">{{ iform.amount }}</div>
                        </div> -->

                            <!-- <div class="row mb-2 mb-sm-0 py-25 bgc-default-l4">
                            <div class="d-none d-sm-block col-1">2</div>
                            <div class="col-9 col-sm-5">Web hosting</div>
                            <div class="d-none d-sm-block col-2">1</div>
                            <div class="d-none d-sm-block col-2 text-95">$15</div>
                            <div class="col-2 text-secondary-d2">$15</div>
                        </div>

                        <div class="row mb-2 mb-sm-0 py-25">
                            <div class="d-none d-sm-block col-1">3</div>
                            <div class="col-9 col-sm-5">Software development</div>
                            <div class="d-none d-sm-block col-2">--</div>
                            <div class="d-none d-sm-block col-2 text-95">$1,000</div>
                            <div class="col-2 text-secondary-d2">$1,000</div>
                        </div>

                        <div class="row mb-2 mb-sm-0 py-25 bgc-default-l4">
                            <div class="d-none d-sm-block col-1">4</div>
                            <div class="col-9 col-sm-5">Consulting</div>
                            <div class="d-none d-sm-block col-2">1 Year</div>
                            <div class="d-none d-sm-block col-2 text-95">$500</div>
                            <div class="col-2 text-secondary-d2">$500</div>
                        </div>
                    </div>
                    </div>  
                    <div class="row border-b-2 brc-default-l2"></div> 

                   <!-- or use a table instead -->

                            <div class="table-responsive">
                                <table class="table table-striped table-borderless border-0 border-b-2 brc-default-l1">
                                    <thead class="bg-none bgc-default-tp1">
                                        <tr class="text-white">
                                            {{ iform.item_no.errors }}
                                            <th><label for="{{ iform.item_no.id_for_label }}">Item No</label></th>
                                            {{ iform.particular.errors }}
                                            <th><label for="{{ iform.particular.id_for_label }}">Particular</label>
                                            </th>
                                            {{ iform.alt_qty.errors }}
                                            <th><label for="{{ iform.alt_qty.id_for_label }}">Alt Qty</label></th>
                                            {{ iform.qty.errors }}
                                            <th><label for="{{ iform.qty.id_for_label }}">Qty</label></th>
                                            {{ iform.Uom.errors }}
                                            <th><label for="{{ iform.Uom.id_for_label }}">Uom</label></th>
                                            {{ iform.rate.errors }}
                                            <th><label for="{{ iform.rate.id_for_label }}">Rate</label></th>
                                            {{ iform.discount.errors }}
                                            <th><label for="{{ iform.discount.id_for_label }}">Discount</label></th>
                                            {{ iform.amount.errors }}
                                            <th><label for="{{ iform.amount.id_for_label }}">Amount</label></th>
                                        </tr>
                                    </thead>
                                    {{ iform.management_form }}
                                    {% for iforms in iform %}
                                    <tbody class="text-30 text-secondary-d3">
                                        <tr>
                                            <td>{{ iforms.item_no }}</td>
                                            <td>{{ iforms.particular }}</td>
                                            <td>{{ iforms.alt_qty }}</td>
                                            <td>{{ iforms.qty }}</td>
                                            <td>{{ iforms.Uom }}</td>
                                            <td>{{ iforms.rate }}</td>
                                            <td>{{ iforms.discount }}</td>
                                            <td>{{ iforms.amount }}</td>
                                        </tr>
                                    </tbody>
                                    {% endfor %}
                                    <input type="hidden" value="True" name="additems" id="additems">
                                    <button class="btn btn-primary" id="additemsbutton">Add items</button>                   
                                </table>
                            </div>


                            <div class="row mt-3">
                                <div class="col-12 col-sm-7 text-grey-d2 text-35 mt-2 mt-lg-0">
                                    <div class="row my-5"> 
                                    <div class="col-3 text-left">
                                    {{ calform.in_words.errors}}
                                    <label for="{{ calform.in_words.id_for_label }}">In Words:</label>
                                    </div>
                                    <div class="col-3">
                                    {{calform.in_words}}
                                    </div>
                                    </div>

                                    <div class="row my-5"> 
                                        <div class="col-3 text-left">
                                        {{ calform.remarks.errors}}
                                        <label for="{{ calform.in_words.id_for_label }}">Remarks:</label>
                                        </div>
                                        <div class="col-3">
                                        {{calform.remarks}}
                                        </div>
                                        </div>
                                </div>

                                <div class="col-12 col-sm-5 text-grey text-30 order-first order-sm-last">
                                    <div class="row my-2">
                                        {{ calform.subtotal.errors }}
                                        <div class="col-6 text-right">
                                            <label for="{{ calform.subtotal.id_for_label }}">Sub Total:</label>
                                        </div>
                                        <div class="col-2">
                                           {{calform.subtotal}}
                                        </div>
                                    </div>
                                    <div class="row my-2">
                                        {{ calform.discount.errors }}
                                        <div class="col-6 text-right">
                                            <label for="{{ calform.discount.id_for_label }}">Discount:</label>
                                        </div>
                                        <div class="col-2">
                                            <span class="text-30 text-secondary-d1">{{ calform.discount }}</span>
                                        </div>
                                    </div>
                                    <div class="row my-2">
                                        {{ calform.taxable_amount.errors }}
                                        <div class="col-6 text-right">
                                            <label for="{{ calform.taxable_amount.id_for_label }}">Taxable
                                                Amount:</label>
                                        </div>
                                        <div class="col-2">
                                            <span class="text-30 text-secondary-d1">{{ calform.taxable_amount }}</span>
                                        </div>
                                    </div>
                                    <div class="row my-2">
                                        {{ calform.vat.errors }}
                                        <div class="col-6 text-right">
                                            <label for="{{ calform.vat.id_for_label }}">VAT:</label>
                                        </div>
                                        <div class="col-1">
                                            <span class="text-30 text-secondary-d1">{{ calform.vat }}</span>
                                        </div>
                                    </div>
                                    <div class="row my-2">
                                        {{ calform.total_amount.errors }}
                                        <div class="col-6 text-right">
                                            <label for="{{ calform.total_amount.id_for_label }}">Total Amount:</label>
                                        </div>
                                        <div class="col-1">
                                            <span class="text-30 text-secondary-d1">{{ calform.total_amount }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                         <hr/>  
                            <div class="row">
                                <div class="col-12">
                                    <div class="row my-1"> 
                                        <div class="col-2 text-left">
                                        {{ form.received_by.errors}}
                                        <label for="{{ form.received_by.id_for_label }}">Received By:</label>
                                        </div>
                                        
                                        {{form.received_by}}
                                       
                                        <div class="col-2 text-left">
                                            {{ form.prepared_by.errors}}
                                            <label for="{{ form.prepared_by.id_for_label }}">Prepared By:</label>
                                        </div>
                                        
                                            {{form.prepared_by}}
                                        
                                        <div class="col-2 text-left">
                                            {{ form.authorized_sign.errors}}
                                            <label for="{{ form.authorized_sign.id_for_label }}">Authorized Sign:</label>
                                        </div>
                                        
                                            {{form.authorized_sign}}
                                    
                                    </div>
                                </div>
                            </div>
                        <hr/>

                            <div class="row my-2">
                                <div class="col text-left">
                                {{ form.date_time.errors}}
                                <span class="text-secondary-d1 text-105"> 
                                    <label for="{{ form.date_time.id_for_label }}">Print Date & Time:</label></span>
                                    {{ form.date_time }}
                                </div>
                                    <div class="col text-right">
                                <input type="submit" class="btn btn-info btn-bold px-4 float-right mt-3 mt-lg-0"
                                    value="Submit"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</body>
<script>
    $(document).ready(function () {
        $("#additemsbutton").on('click', function (event) {
            $("#additems").val("true");
        });
    });
</script>

